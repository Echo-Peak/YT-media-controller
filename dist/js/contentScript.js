(()=>{"use strict";var e={702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFrontEndRuntime=void 0,t.ChromeFrontEndRuntime=class{constructor(){this.handleMessage=(e,t,n)=>{"PlayEvent"===e.action&&(window.location.href=e.data.url)},this.sendVideoEndedEvent=e=>{chrome.runtime.sendMessage({action:"playbackElapsed",data:{videoId:e}})},this.sendVideoStartedEvent=e=>{chrome.runtime.sendMessage({action:"playbackElapsed",data:{videoId:e}})},this.sendVideoElapsedTimeEvent=(e,t,n)=>{chrome.runtime.sendMessage({action:"playbackElapsed",data:{videoId:e,elapsedTime:t,duration:n}})},chrome.runtime.sendMessage({action:"ytFrontendRuntimeLoaded"}),chrome.runtime.onMessage.addListener(this.handleMessage)}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{const e=new(n(702).ChromeFrontEndRuntime);window.onload=function(){(()=>{const t=(()=>{const e=document.querySelector("#movie_player > div.ytp-chrome-bottom > div.ytp-chrome-controls > div.ytp-left-controls > div.ytp-time-display.notranslate > span.ytp-time-wrapper > div");return{currentTime:null==e?void 0:e.querySelector("span.ytp-time-current"),duration:null==e?void 0:e.querySelector("span.ytp-time-duration")}})();let n=0,r=!1;const o=(()=>{const e=new URL(window.location.href);if(e.pathname.startsWith("/shorts")){const e=window.location.href.split("/");return e[e.length-1].split("?")[0]}return e.pathname.startsWith("/watch")?window.location.href.split("v=")[1].split("&")[0]:null})();if(!o)return void console.error("No video ID found");let i=setInterval((()=>{if(n>20)return void clearInterval(i);if(!t.currentTime||!t.duration)return void n++;const a=t.currentTime.innerText,d=t.duration.innerText;if(a===d)return clearInterval(i),void e.sendVideoEndedEvent(o);(e=>{const t=e.split(":");return 2===t.length?0===parseInt(t[0])&&0===parseInt(t[1]):3===t.length&&0===parseInt(t[1])&&0===parseInt(t[2])})(a)||(r||(e.sendVideoStartedEvent(o),r=!0),e.sendVideoElapsedTimeEvent(o,a,d))}),1e3)})()}})()})();